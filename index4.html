<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Таблица Шульте</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f9;
            font-family: 'Arial', sans-serif;
            position: relative;
            color: #333;
            margin: 0;
        }

        h3 {
            font-size: 24px;
            margin-top: 30px;
            color: #1E90FF;
        }

        /* Кнопка-крестик */
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            background-color: #ffffff;
            color: #1E90FF;
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            line-height: 30px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .close-btn:hover {
            background-color: #ddd;
        }

        #timer {
            font-size: 20px;
            margin-bottom: 15px;
            color: #32CD32;
        }

        #start-btn {
            padding: 12px 25px;
            font-size: 16px;
            background-color: #32CD32;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 15px;
        }

        #start-btn:hover {
            background-color: #228B22;
        }

        .menu {
            margin: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .menu button {
            padding: 10px 18px;
            font-size: 14px;
            border: none;
            background-color: #1E90FF;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .menu button:hover {
            background-color: #187bcd;
        }

        .grid-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            width: 100%;
        }

        .grid {
            display: grid;
            gap: 5px;
            position: relative;
            justify-items: center;
        }

        .cell {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            font-weight: bold;
            width: 60px;
            height: 60px;
            border-radius: 10px;
            cursor: pointer;
            user-select: none;
            background-color: #87CEEB;
            transition: transform 0.2s;
        }

        .cell:hover {
            transform: scale(1.1);
        }

        .center-dot {
            width: 10px;
            height: 10px;
            background-color: red;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #result {
            font-size: 18px;
            margin-top: 15px;
            color: #333;
            text-align: center;
        }

        /* Адаптивность для мобильных устройств */
        @media (max-width: 600px) {
            h3 {
                font-size: 20px;
            }

            #timer {
                font-size: 18px;
            }

            .menu button {
                padding: 8px 15px;
                font-size: 12px;
            }

            .cell {
                width: 50px;
                height: 50px;
                font-size: 18px;
            }

            #start-btn {
                padding: 10px 20px;
                font-size: 14px;
            }

            #result {
                font-size: 16px;
            }
        }
    </style>
</head>

<body>
    <button class="close-btn" onclick="history.back()">X</button>

    <h3>Таблица Шульте</h3>
    <div id="timer">00:00</div>
    <button id="start-btn" onclick="startGame()">Начать</button>
    <div class="menu" id="menu">
        <button onclick="generateGrid(4)">4x4</button>
        <button onclick="generateGrid(5)">5x5</button>
        <button onclick="generateGrid(6)">6x6</button>
        <button onclick="generateGrid(7)">7x7</button>
        <button onclick="generateGrid(8)">8x8</button>
    </div>

    <div class="grid-container">
        <div class="grid" id="grid"></div>
    </div>

    <div id="result"></div>

    <script>
        const colors = ["#87CEEB", "#FFD700", "#8A2BE2", "#1E90FF"];
        let currentNumber = 1;
        let timerInterval;
        let elapsedTime = 0;
        let totalCells;

        function startGame() {
            document.getElementById("start-btn").style.display = "none";
            document.getElementById("menu").style.display = "none";
            document.getElementById("result").textContent = "";
            generateGrid(4); 
            startTimer();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                elapsedTime++;
                const minutes = String(Math.floor(elapsedTime / 60)).padStart(2, '0');
                const seconds = String(elapsedTime % 60).padStart(2, '0');
                document.getElementById("timer").textContent = `${minutes}:${seconds}`;
            }, 1000);
        }

        function endGame() {
            clearInterval(timerInterval);
            const minutes = String(Math.floor(elapsedTime / 60)).padStart(2, '0');
            const seconds = String(elapsedTime % 60).padStart(2, '0');
            document.getElementById("result").textContent = `Игра завершена! Время: ${minutes}:${seconds}`;
        }

        function generateGrid(size) {
            const grid = document.getElementById("grid");
            grid.innerHTML = "";
            grid.style.gridTemplateColumns = `repeat(${size}, 60px)`;
            grid.style.gridTemplateRows = `repeat(${size}, 60px)`;

            const numbers = Array.from({ length: size * size }, (_, i) => i + 1).sort(() => Math.random() - 0.5);
            const cells = [];
            totalCells = size * size;

            numbers.forEach((number, index) => {
                const cell = document.createElement("div");
                cell.classList.add("cell");
                cell.textContent = number;
                cell.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                cell.addEventListener("click", () => {
                    if (parseInt(cell.textContent) === currentNumber) {
                        cell.style.visibility = "hidden";
                        currentNumber++;
                        if (currentNumber > totalCells) {
                            endGame();
                        }
                    }
                });
                grid.appendChild(cell);
                cells.push(cell);
            });

            const centerIndex = Math.floor(size * size / 2);
            const centerCell = cells[centerIndex];
            const dot = document.createElement("div");
            dot.classList.add("center-dot");
            centerCell.appendChild(dot);
        }
    </script>
</body>

</html>
